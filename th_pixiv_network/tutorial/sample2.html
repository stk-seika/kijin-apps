<html lang="en">
  <head>
    <title>Vis Network | Other | Performance</title>

    <style type="text/css">
      body {
        font: 10pt sans;
      }
      #mynetwork {
        width: 600px;
        height: 600px;
        border: 1px solid lightgray;
      }
    </style>

    <script
      type="text/javascript"
      src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://unpkg.com/alea@1.0.0/alea.js"
    ></script>
    <script type="text/javascript" src="./exampleUtil.js"></script>

    <script type="text/javascript">
        // create an array with nodes
        var nodes = new vis.DataSet([
            {'id': 1, 'label': 'Node 1'},
            {'id': 2, 'label': 'Node 2'},
            {'id': 3, 'label': 'Node 3'},
            {'id': 4, 'label': 'Node 4'},
            {'id': 5, 'label': 'Node 5'}
        ]);

        // create an array with edges
        var edges = new vis.DataSet([
            {'id': 1, 'from': 1, 'to': 3, arrows: 'to', width: 0.1},
            {'id': 2, 'from': 1, 'to': 2, arrows: 'to', width: 0.2},
            {'id': 3, 'from': 2, 'to': 4, arrows: 'to', width: 0.3},
            {'id': 4, 'from': 2, 'to': 5, arrows: 'to', width: 0.4}
        ]);

        // create a network
        var container = document.getElementById('mynetwork');

        // provide the data in the vis format
        var data = {
            nodes: nodes,
            edges: edges
        };
        var options = {};

        // initialize your network!
        var network = new vis.Network(container, data, options);
    

        function updateThreshold(edgeThreshold){
            for (let i = 0; i < 4; i++) {
                edge = network.get(i+1).edges;
                if (edge.width >= edgeThreshold){
                    edges.updateOnly({id: i+1, value: width*5, hidden:false, physics: true});
                }else{
                    edges.updateOnly({id: i+1, value: 0, hidden:true, physics: false});
                }
            }
            return edges
            document.write(edges)
        }

        function draw() {
        var edgeThreshold = document.getElementById("edgeThreshold").value;
        // create a network
        var container = document.getElementById("mynetwork");
        // var data = getScaleFreeNetwork(edgeThreshold);
        updateThreshold(edgeThreshold)
        var options = {
            physics: { stabilization: false },
        };
        network = new vis.Network(container, data, options);
        }

    </script>
  </head>
  <body onload="draw();">
    <p>Generate a random network with nodes and edges.</p>
    <form onsubmit="draw(); return false;">
      <label for="edgeThreshold">Threshold of edges:</label>
      <input id="edgeThreshold" type="text" value="0.1" style="width: 50px" />
      <input type="button" value="Go" onclick="draw()" />
    </form>

    <div id="mynetwork"></div>
  </body>
</html>